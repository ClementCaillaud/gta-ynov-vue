(function(e){function t(t){for(var a,i,o=t[0],u=t[1],c=t[2],f=0,d=[];f<o.length;f++)i=o[f],r[i]&&d.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/gta-ynov-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i=(n("034f"),n("2877")),o={},u=Object(i["a"])(o,r,s,!1,null,null,null);u.options.__file="App.vue";var c=u.exports,l=n("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-5"},[a("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),a("h1",[e._v("Bienvenue sur gta-ynov-vue")]),a("Connexion")],1)},d=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-6"},[n("b-form-group",[n("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Utilisateur",state:e.etatInputLogin},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),n("b-form-invalid-feedback",[e._v("Utilisateur inconnu")])],1),n("b-form-group",[n("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Mot de passe",state:e.etatInputMdp},model:{value:e.mdp,callback:function(t){e.mdp=t},expression:"mdp"}}),n("b-form-invalid-feedback",[e._v("Mot de passe incorrect")])],1),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){e.seConnecter()}}},[e._v("Connexion")])],1)])])},b=[],m=n("16b2"),v={data:function(){return{login:"",mdp:"",etatInputMdp:null,etatInputLogin:null}},methods:{seConnecter:function(){var e=this,t=new m["a"]("bdd");t.get(e.login).then(function(n){e.etatInputLogin=null,e.mdp==n.mdp?t.put({_id:"login_info",login:n.login,role:n.role}).then(function(){e.$router.push({name:"gta"})}):e.etatInputMdp=!1}).catch(function(t){e.etatInputLogin=!1})}}},h=v,g=Object(i["a"])(h,p,b,!1,null,null,null);g.options.__file="Connexion.vue";var j=g.exports,_={components:{Connexion:j},created:function(){var e=new m["a"]("bdd");e.get("login_info").then(function(t){e.remove(t)}).catch(function(e){})}},y=_,k=Object(i["a"])(y,f,d,!1,null,null,null);k.options.__file="Accueil.vue";var x=k.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-4"},[n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"primary",fixed:"top"}},[n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),n("b-navbar-brand",{staticClass:"d-md-none"},[n("span",{class:e.currentTab.icone}),e._v(" "+e._s(e.currentTab.nom))]),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[n("b-navbar-nav",[e._l(e.tabs,function(t){return n("b-nav-item",{key:t.component,class:[{active:e.currentTab===t}],on:{click:function(n){e.currentTab=t}}},[n("span",{class:t.icone}),e._v("\n          "+e._s(t.nom)+"\n        ")])}),n("b-nav-item",{on:{click:function(t){e.deconnexion()}}},[n("span",{staticClass:"fas fa-sign-out-alt fa-lg"}),e._v(" Se déconnecter")])],2)],1)],1),n(e.currentTab.component,{tag:"component",staticClass:"mt-5",attrs:{nomUtilisateur:e.login}})],1)},D=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-alert",{attrs:{show:e.succesSauvegarde,variant:"success",dismissible:""},on:{dismissed:function(t){e.succesSauvegarde=!1}}},[e._v("Vos données ont été mises à jour")]),n("b-row",[n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Nom"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.infos.nom,callback:function(t){e.$set(e.infos,"nom",t)},expression:"infos.nom"}})],1),n("b-form-group",{attrs:{label:"Prénom"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.infos.prenom,callback:function(t){e.$set(e.infos,"prenom",t)},expression:"infos.prenom"}})],1),n("b-form-group",{attrs:{label:"Date de naissance"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.infos.dateNaissance,callback:function(t){e.$set(e.infos,"dateNaissance",t)},expression:"infos.dateNaissance"}})],1)],1),n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Adresse"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.infos.adresse,callback:function(t){e.$set(e.infos,"adresse",t)},expression:"infos.adresse"}})],1),n("b-form-group",{attrs:{label:"N° téléphone"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.infos.tel,callback:function(t){e.$set(e.infos,"tel",t)},expression:"infos.tel"}})],1),n("b-form-group",{attrs:{label:"Mail"}},[n("b-form-input",{attrs:{type:"text"},model:{value:e.infos.mail,callback:function(t){e.$set(e.infos,"mail",t)},expression:"infos.mail"}})],1)],1)],1),n("button",{staticClass:"btn btn-danger",on:{click:function(t){e.reset()}}},[e._v("Annuler")]),n("button",{staticClass:"btn btn-success ml-5",on:{click:function(t){e.enregistrer()}}},[e._v("Enregistrer")])],1)},M=[],w={props:["nomUtilisateur"],data:function(){return{succesSauvegarde:!1,infos:{}}},methods:{enregistrer:function(){var e=new m["a"]("bdd"),t=this;e.put(t.infos).then(function(){t.succesSauvegarde=!0}).catch(function(e){})},reset:function(){var e=new m["a"]("bdd"),t=this;e.get(t.nomUtilisateur).then(function(e){t.infos=e}).catch(function(e){})}},created:function(){this.reset()}},Y=w,q=Object(i["a"])(Y,A,M,!1,null,null,null);q.options.__file="FicheSalarie.vue";var F=q.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-row",{staticClass:"mb-2",attrs:{"align-v":"center"}},[n("b-col",[n("b-form-group",{attrs:{label:"Date début"}},[n("b-form-input",{attrs:{type:"date"},model:{value:e.filtreDateDebut,callback:function(t){e.filtreDateDebut=t},expression:"filtreDateDebut"}})],1)],1),n("b-col",[n("b-form-group",{attrs:{label:"Date fin"}},[n("b-form-input",{attrs:{type:"date"},model:{value:e.filtreDateFin,callback:function(t){e.filtreDateFin=t},expression:"filtreDateFin"}})],1)],1),n("b-col",{attrs:{md:"4"}},[n("toggle-button",{attrs:{id:"changed-font",color:{checked:"#3c9631",unchecked:"#388371"},labels:{checked:"Agenda",unchecked:"Compteurs"},height:35,width:130},model:{value:e.afficherCompteurs,callback:function(t){e.afficherCompteurs=t},expression:"afficherCompteurs"}})],1)],1),e.afficherCompteurs?n("Compteurs",{attrs:{nomUtilisateur:e.nomUtilisateur,dateDebut:e.filtreDateDebut,dateFin:e.filtreDateFin}}):e._e(),e.afficherCompteurs?e._e():n("Agenda",{attrs:{nomUtilisateur:e.nomUtilisateur,dateDebut:e.filtreDateDebut,dateFin:e.filtreDateFin}})],1)},$=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pb-5"},[n("b-row",{staticClass:"justify-content-center mb-5"},e._l(e.agenda,function(t,a){return e.filtreDate(t)?n("b-col",{staticClass:"mb-3"},[n("div",{staticClass:"bg-primary text-white mb-1"},[e._v(e._s(t.date))]),n("b-card-group",{staticClass:"justify-content-center"},[n("b-row",e._l(t.occupation,function(t,r){return n("b-col",["lecture"==e.droit?n("b-card",{class:e.classDynamique(t.type)},[n("b-col",[e._v(e._s(t.heureDebut))]),n("b-col",[e._v(" "+e._s(t.heureFin))]),n("b-col",[e._v(e._s(t.type))]),n("b-col",[e._v(e._s(t.motif))])],1):e._e(),"modification"==e.droit?n("b-card",{class:e.classDynamique(t.type)},[n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Heure début"}},[n("b-form-input",{attrs:{type:"time"},model:{value:t.heureDebut,callback:function(n){e.$set(t,"heureDebut",n)},expression:"activite.heureDebut"}})],1),n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Heure fin"}},[n("b-form-input",{attrs:{type:"time"},model:{value:t.heureFin,callback:function(n){e.$set(t,"heureFin",n)},expression:"activite.heureFin"}})],1),n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Occupation"}},[n("b-form-select",{attrs:{options:e.listeOccupations},model:{value:t.occupation,callback:function(n){e.$set(t,"occupation",n)},expression:"activite.occupation"}})],1),"Absence"==t.occupation?n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Motif"}},[n("b-form-select",{attrs:{options:e.motifsAbsence},model:{value:t.motif,callback:function(n){e.$set(t,"motif",n)},expression:"activite.motif"}})],1):e._e(),n("b-button",{attrs:{variant:"danger"},on:{click:function(t){e.supprimerOccupation(a,r)}}},[n("span",{staticClass:"fas fa-trash fa-lg"})])],1):e._e()],1)}))],1)],1):e._e()})),"modification"==e.droit?n("button",{staticClass:"btn btn-ajouter fixed-bottom text-white mr-3 mb-3",on:{click:function(t){e.afficherModalAjouter=!0}}},[n("span",{staticClass:"fas fa-plus fa-lg"})]):e._e(),n("b-modal",{attrs:{title:"Ajouter une activité"},model:{value:e.afficherModalAjouter,callback:function(t){e.afficherModalAjouter=t},expression:"afficherModalAjouter"}},[n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Date"}},[n("b-form-input",{attrs:{type:"date"},model:{value:e.formulaireAjout.date,callback:function(t){e.$set(e.formulaireAjout,"date",t)},expression:"formulaireAjout.date"}})],1),n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Heure début"}},[n("b-form-input",{attrs:{type:"time"},model:{value:e.formulaireAjout.heureDebut,callback:function(t){e.$set(e.formulaireAjout,"heureDebut",t)},expression:"formulaireAjout.heureDebut"}})],1),n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Heure fin"}},[n("b-form-input",{attrs:{type:"time"},model:{value:e.formulaireAjout.heureFin,callback:function(t){e.$set(e.formulaireAjout,"heureFin",t)},expression:"formulaireAjout.heureFin"}})],1),n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Occupation"}},[n("b-form-select",{attrs:{options:e.listeOccupations},model:{value:e.formulaireAjout.occupation,callback:function(t){e.$set(e.formulaireAjout,"occupation",t)},expression:"formulaireAjout.occupation"}})],1),"Absence"==e.formulaireAjout.occupation?n("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Motif"}},[n("b-form-select",{attrs:{options:e.motifsAbsence},model:{value:e.formulaireAjout.motif,callback:function(t){e.$set(e.formulaireAjout,"motif",t)},expression:"formulaireAjout.motif"}})],1):e._e(),n("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("b-btn",{attrs:{variant:"danger"},on:{click:function(t){e.afficherModalAjouter=!1}}},[e._v("Annuler")]),n("b-btn",{staticClass:"ml-5",attrs:{variant:"primary"},on:{click:function(t){e.ajouterOccupation()}}},[e._v("Ajouter")])],1)],1)],1)},S=[],z=(n("6762"),n("2fdb"),n("c1df")),U=n.n(z),T={props:["nomUtilisateur","dateDebut","dateFin"],data:function(){return{afficherModalAjouter:!1,afficherModifierOccupation:!1,agenda:[],droit:"lecture",listeOccupations:[{value:"Travail",text:"Travail"},{value:"Repos hebdomadaire",text:"Repos hebdomadaire"},{value:"Absence",text:"Absence"},{value:"Congé payé",text:"Congé payé"},{value:"Jour férié",text:"Jour férié"},{value:"Récupération",text:"Récupération"}],motifsAbsence:[{value:"Maladie",text:"Maladie"},{value:"Maladie professionnelle",text:"Maladie professionnelle"},{value:"Congé sans solde",text:"Congé sans solde"},{value:"Congé maternité",text:"Congé maternité"},{value:"Congé paternité",text:"Congé paternité"}],formulaireAjout:{date:"",heureDebut:"",heureFin:"",occupation:"",motif:""}}},created:function(){var e=new m["a"]("bdd"),t=this;e.get(t.nomUtilisateur).then(function(e){t.agenda=e.agenda}).catch(function(e){}),e.get("login_info").then(function(n){e.get(n.login).then(function(e){e.equipe.includes(t.nomUtilisateur)&&(t.droit="modification")}).catch(function(e){})}).catch(function(e){})},methods:{classDynamique:function(e){switch(e){case"Travail":return"travail";case"Congé payé":return"conge-paye";case"Absence":return"absence";case"Repos hebdomadaire":return"repos-hebdo";case"Jour férié":return"ferie";case"Récupération":return"recuperation";default:return""}},filtreDate:function(e){return(U()(e.date,"DD/MM/YYYY").diff(U()(this.dateDebut,"YYYY-MM-DD"),"days")>=0||""==this.dateDebut)&&(U()(e.date,"DD/MM/YYYY").diff(U()(this.dateFin,"YYYY-MM-DD"),"days")<=0||""==this.dateFin)},ajouterOccupation:function(){var e=new m["a"]("bdd"),t=this;e.get(t.nomUtilisateur).then(function(n){n.agenda.forEach(function(a){0==U()(a.date,"DD/MM/YYYY").diff(U()(t.formulaireAjout.date,"YYYY-MM-DD"))&&(a.occupation.push({heureDebut:t.formulaireAjout.heureDebut,heureFin:t.formulaireAjout.heureFin,type:t.formulaireAjout.occupation,motif:t.formulaireAjout.motif}),e.put(n))}),e.get(t.nomUtilisateur).then(function(e){t.agenda=e.agenda}).catch(function(e){})}).catch(function(e){}),this.afficherModalAjouter=!1},supprimerOccupation:function(e,t){var n=new m["a"]("bdd"),a=this;n.get(a.nomUtilisateur).then(function(r){r.agenda[e].occupation.splice(t,1),n.put(r),a.agenda=r.agenda}).catch(function(e){})}}},L=T,P=(n("9ea0"),Object(i["a"])(L,E,S,!1,null,"7a7c6e3b",null));P.options.__file="Agenda.vue";var H=P.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-tabs",{attrs:{pills:"",card:""}},[n("b-tab",{attrs:{title:"Jour",active:""}},[n("b-row",e._l(e.compteursQuotidien,function(t){return n("b-col",{staticClass:"compteur"},[n("div",{staticClass:"bg-primary text-white mb-1"},[e._v(e._s(t.date))]),n("div",{class:e.classCompteur("quotidien",t)},[e._v("\n          "+e._s(t.heures)+"h\n          "),0!=t.minutes?n("span",[e._v(e._s(t.minutes))]):e._e()])])}))],1),n("b-tab",{attrs:{title:"Semaine"}},[n("b-row",e._l(e.compteursHebdomadaire,function(t){return n("b-col",{staticClass:"compteur"},[n("div",{staticClass:"bg-primary text-white mb-1"},[e._v(e._s(t.nomGroupe))]),n("div",{class:e.classCompteur("hebdomadaire",t)},[e._v("\n          "+e._s(t.heures)+"h\n          "),0!=t.minutes?n("span",[e._v(e._s(t.minutes))]):e._e()])])}))],1),n("b-tab",{attrs:{title:"Année"}},[n("b-row",e._l(e.compteursAnnuel,function(t){return n("b-col",{staticClass:"compteur"},[n("div",{staticClass:"bg-primary text-white mb-1"},[e._v(e._s(t.nomGroupe))]),n("div",{class:e.classCompteur("annuel",t)},[e._v("\n          "+e._s(t.heures)+"h\n          "),0!=t.minutes?n("span",[e._v(e._s(t.minutes))]):e._e()])])}))],1)],1)},N=[],B={props:["nomUtilisateur","dateDebut","dateFin"],data:function(){return{agenda:[]}},computed:{compteursQuotidien:function(){var e=[],t=this;return this.agenda.forEach(function(n){if(t.filtreDate(n)){var a={heures:0,minutes:0};n.occupation.forEach(function(e){if("Travail"==e.type){var t=U.a.duration(U()(e.heureFin,"HH:mm").diff(U()(e.heureDebut,"HH:mm")));a.heures+=t.hours(),a.minutes+=t.minutes(),a.minutes>=60&&(a.heures+=parseInt(a.minutes/60),a.minutes%=60)}}),e.push({date:n.date,heures:a.heures,minutes:a.minutes})}}),e},compteursHebdomadaire:function(){var e=[],t=this;return this.regrouper("hebdomadaire").forEach(function(n,a){e.push(t.calculDuree(n,a))}),e},compteursAnnuel:function(){var e=[],t=this;return this.regrouper("annuel").forEach(function(n,a){e.push(t.calculDuree(n,a))}),e}},created:function(){var e=new m["a"]("bdd"),t=this;e.get(t.nomUtilisateur).then(function(e){t.agenda=e.agenda}).catch(function(){})},methods:{classCompteur:function(e,t){var n=0;switch(e){case"quotidien":n=12;break;case"hebdomadaire":n=44;break;default:return"compteur-ok"}return t.heures>n?"compteur-pas-ok":"compteur-ok"},filtreDate:function(e){return(U()(e.date,"DD/MM/YYYY").diff(U()(this.dateDebut,"YYYY-MM-DD"),"days")>=0||""==this.dateDebut)&&(U()(e.date,"DD/MM/YYYY").diff(U()(this.dateFin,"YYYY-MM-DD"),"days")<=0||""==this.dateFin)},regrouper:function(e){var t=this.compteursQuotidien,n=[];return t.forEach(function(t){var a="hebdomadaire"==e?U()(t.date,"DD/MM/YYYY").week():U()(t.date,"DD/MM/YYYY").year();void 0===n[a]&&(n[a]=[]),n[a].push(t)}),n},calculDuree:function(e,t){var n={heures:0,minutes:0};return e.forEach(function(e){n.heures+=e.heures,n.minutes+=e.minutes,n.minutes>=60&&(n.heures+=parseInt(n.minutes/60),n.minutes%=60)}),{nomGroupe:t,heures:n.heures,minutes:n.minutes}}}},R=B,J=(n("7cf0"),Object(i["a"])(R,I,N,!1,null,"075e3178",null));J.options.__file="Compteurs.vue";var G=J.exports,Q={props:["nomUtilisateur"],data:function(){return{filtreDateDebut:"",filtreDateFin:"",afficherCompteurs:!1}},components:{Agenda:H,Compteurs:G}},V=Q,K=(n("c028"),Object(i["a"])(V,O,$,!1,null,"38e4782b",null));K.options.__file="Planning.vue";var W=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("h5",[e._v("\n    Ce tableau de bord ne contient rien d'intéressant pour le moment...\n    Mais ne vous inquiétez pas, vous pouvez toujours vous consoler en lisant cette petite histoire :)\n  ")]),n("p",{staticClass:"text-justify mt-5"},[e._v("\n    Le conte raconte l'histoire de trois frères qui arrivèrent au bord d'une rivière trop profonde et dangereuse à traverser. Heureusement, puisqu'ils étaient doués du pouvoir de la magie, ils firent apparaître un pont. Au milieu du pont, ils rencontrèrent une figure voilée, la Mort elle-même. La Mort était en colère que ces hommes puissent traverser sans périr, alors que d'autres courageux étaient tous morts noyés dans les eaux de la rivière. Elle imagina alors un plan machiavélique pour rétablir ce qui lui semblait juste et fit semblant d'être heureuse qu'ils aient survécu, et le leur prouva en leur offrant un cadeau à chacun.\n    "),n("br"),n("br"),e._v("\n    Le plus vieux des frères, combatif, demanda une baguette si puissante, qu'elle ne pourrait jamais perdre, baguette que l'homme méritait pour avoir vaincu la Mort. Alors, la Mort prit une branche d'un sureau et lui tailla la Baguette de Sureau. Le second frère, arrogant, et voulant humilier la Mort encore plus, lui demanda le pouvoir de ramener les morts à la vie. La Mort prit donc une pierre près de la rivière, la lui remit, et affirma qu'il était maintenant en possession de la Pierre de Résurrection. Le plus jeune, humble et rusé, ne faisait aucunement confiance à la Mort, et lui demanda un objet qui lui permettrait de se déplacer sans être vu par la Mort. La Mort lui donna donc à contre-cœur sa propre Cape d'invisibilité. Après, elle s'en alla, et les frères continuèrent leur chemin.\n    "),n("br"),n("br"),e._v("\n    Avec le temps, ils se séparèrent pour vivre chacun leur vie. Le plus vieux des frères provoqua de nombreux duels, qu'il ne perdit jamais. Mais, pour son malheur, il affirma partout bien haut que son pouvoir lui venait de sa baguette imbattable donnée par la Mort elle-même. Fort de cette publicité, une nuit, un sorcier jaloux lui vola la baguette et lui trancha la gorge dans son sommeil. C'est ainsi que la Mort s'abattit sur le premier frère.\n    "),n("br"),n("br"),e._v("\n    Le second frère vivait seul dans sa maison. Il tourna la pierre trois fois dans ses mains et sa belle qui lui était destinée, mais décédée avant le mariage, apparut. Malheureusement, celle-ci appartenait toujours au royaume des morts et elle ne fut qu'une âme en peine dans notre monde. Devenu fou de douleur, le deuxième frère se suicida pour la rejoindre et vivre son amour avec. La Mort s'abattit alors sur le deuxième frère.\n    "),n("br"),n("br"),e._v("\n    La Mort chercha longtemps le plus jeune frère, sans jamais le retrouver. Ce n'est qu'au crépuscule de sa vie, alors qu'il légua sa cape à son fils, que le plus jeune frère salua la Mort comme une amie, et qu'il l'accompagna en son royaume pour rejoindre ses deux frères.\n  ")]),n("p",{staticClass:"text-right"},[e._v("Le Conte des trois frères - Beedle le Barde")])])},Z=[],ee={},te=ee,ne=Object(i["a"])(te,X,Z,!1,null,null,null);ne.options.__file="TableauDeBord.vue";var ae=ne.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",["liste"!=e.ongletActuel?n("b-row",{staticClass:"justify-content-between mb-4"},[n("b-button",{staticClass:"ml-4",on:{click:function(t){e.ongletActuel="liste"}}},[e._v("Retour")]),n("h2",{staticClass:"mr-4"},[e._v(e._s(e.membreSelectionne.prenom)+" "+e._s(e.membreSelectionne.nom))])],1):e._e(),"liste"==e.ongletActuel?n("b-list-group",e._l(e.equipe,function(t){return n("b-list-group-item",[n("div",{staticClass:"d-flex w-100 justify-content-between"},[n("div",[e._v(e._s(t.prenom)+" "+e._s(t.nom))]),n("div",[n("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary"},on:{click:function(n){e.membreSelectionne=t,e.ongletActuel="ficheSalarie"}}},[e._v("Infos")]),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(n){e.membreSelectionne=t,e.ongletActuel="planning"}}},[e._v("Planning")])],1)])])})):e._e(),"ficheSalarie"==e.ongletActuel?n("FicheSalarie",{attrs:{nomUtilisateur:e.membreSelectionne.login}}):e._e(),"planning"==e.ongletActuel?n("Planning",{attrs:{nomUtilisateur:e.membreSelectionne.login}}):e._e()],1)},se=[],ie={components:{FicheSalarie:F,Planning:W},data:function(){return{equipe:[],membreSelectionne:{},ongletActuel:"liste"}},created:function(){var e=new m["a"]("bdd"),t=this;e.get("login_info").then(function(n){e.get(n.login).then(function(n){n.equipe.forEach(function(n){e.get(n).then(function(e){t.equipe.push(e)}).catch(function(e){})})}).catch(function(e){})}).catch(function(e){})}},oe=ie,ue=Object(i["a"])(oe,re,se,!1,null,null,null);ue.options.__file="Equipe.vue";var ce=ue.exports,le={data:function(){return{login:"",tabs:[],currentTab:{}}},components:{FicheSalarie:F,Planning:W,TableauDeBord:ae,Equipe:ce},methods:{deconnexion:function(){this.$router.push({name:"accueil"})}},created:function(){var e=new m["a"]("bdd"),t=this,n={nom:"Planning",component:"Planning",icone:"fas fa-calendar-alt fa-lg"},a={nom:"Tableau de bord",component:"TableauDeBord",icone:"fas fa-clipboard fa-lg"},r={nom:"Fiche salarié",component:"FicheSalarie",icone:"fas fa-address-card fa-lg"},s={nom:"Gestion équipe",component:"Equipe",icone:"fas fa-users fa-lg"};e.get("login_info").then(function(e){switch(t.login=e.login,e.role){case"salarie":t.tabs=[n,a,r],t.currentTab=t.tabs[0];break;case"responsable":t.tabs=[n,a,r,s],t.currentTab=t.tabs[0];break;case"drh":break;default:break}}).catch(function(e){t.$router.push({name:"accueil"})})}},fe=le,de=Object(i["a"])(fe,C,D,!1,null,null,null);de.options.__file="GTA.vue";var pe=de.exports;a["default"].use(l["a"]);var be=new l["a"]({mode:"hash",base:"/gta-ynov-vue/",routes:[{path:"/",name:"accueil",component:x},{path:"/gta",name:"gta",component:pe}]}),me=n("9483");Object(me["a"])("".concat("/gta-ynov-vue/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ve=n("9f7b"),he=(n("f9e3"),n("2dd8"),n("f206")),ge=n.n(he),je=n("bc3a"),_e=n.n(je);a["default"].config.productionTip=!1,a["default"].use(ve["a"]),a["default"].use(ge.a);var ye=new m["a"]("bdd");ye.get("test").then(function(e){}).catch(function(e){ye.put({_id:"test"}),_e.a.get("bdd.json").then(function(e){e.data.utilisateurs.forEach(function(e){e._id=e.login,ye.get(e.login).then(function(t){e._rev=t._rev,ye.put(e)}).catch(function(t){ye.put(e)})})})}),new a["default"]({router:be,render:function(e){return e(c)}}).$mount("#app")},"64a9":function(e,t,n){},"7cf0":function(e,t,n){"use strict";var a=n("cd66"),r=n.n(a);r.a},"9a15":function(e,t,n){},"9ea0":function(e,t,n){"use strict";var a=n("b854"),r=n.n(a);r.a},b854:function(e,t,n){},c028:function(e,t,n){"use strict";var a=n("9a15"),r=n.n(a);r.a},cd66:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.37134c1d.js.map